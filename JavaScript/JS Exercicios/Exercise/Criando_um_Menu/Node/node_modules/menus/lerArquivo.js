const fs = require('fs');

function lerArquivo(arq) {

    try {

        const data = fs.readFileSync(arq, 'utf8');

        return [false, data];
    
    } catch (err) {

        console.error(`Arquivo não encontrado, em ${arq}`);

        return [true];
    }
}

function criarArquivo(arq, existe=false) {

    if (existe) {

        fs.open(arq, 'w+', function (err, f) {

            if (err) {
    
                return err;
            }
        });
    }

    return 'Arquivo já existe';

    // fs.close();
}

function escreverArquivo(arq, data) {

    try {

        fs.writeFileSync(arq, data, {encoding: "utf8", flag: "w+"});

    } catch (err) {

        console.error(err);
    }

}

module.exports = {lerArquivo, criarArquivo, escreverArquivo};

/***     

{
    "Andre" : {
        "primeiro_nome" : "André",
        "segundo_nome" : "Gonçalvez",
        "idade"        : 32
    },

    "Pedro" : {
        "primeiro_nome" : "Pedro",
        "segundo_nome"  : "Farias",
        "idade"         : 15
    },

    "Maria" : {
        "primeiro_nome" : "Maria",
        "segundo_nome"  : "Alvares",
        "idade"         : 88
    },

    "Ana" : {
        "primeiro_nome" : "Ana",
        "segundo_nome"  : "Albuquerque",
        "idade"         : 22
    },

    "Gustavo" : {
        "primeiro_nome" : "Gustavo",
        "segundo_nome"  : "Guanabara",
        "idade"         : 45
    }
}

{"Andre":{"primeiro_nome":"André","segundo_nome":"Gonçalvez","idade":32},"Pedro":{"primeiro_nome":"Pedro","segundo_nome":"Farias","idade":15},"Maria":{"primeiro_nome":"Maria","segundo_nome":"Alvares","idade":88},"Ana":{"primeiro_nome":"Ana","segundo_nome":"Albuquerque","idade":22},"Gustavo":{"primeiro_nome":"Gustavo","segundo_nome":"Guanabara","idade":45},"nomeUser":{"primeiro_nome":"Dede","segundo_nome":"Mussum","idade":"86"}}
* **/